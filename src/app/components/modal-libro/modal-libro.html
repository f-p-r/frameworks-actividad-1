@if (libro) {
<!-- Fondo semitransparente: cierra al hacer clic fuera -->
<div class="modal-backdrop" (click)="onCerrar()"></div>

<div class="modal-container">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <!-- 游댲 Eliminado el bot칩n "칑" del encabezado -->

    <div class="row">
      <!-- Imagen -->
      <div class="col-md-4 text-center">
        <img [src]="'img/libros/' + libro.id + '.jpg'" [alt]="libro.titulo" class="img-fluid rounded mb-3" />
      </div>

      <!-- Informaci칩n principal -->
      <div class="col-md-5">
        <p [ngClass]="{ 'etiqueta-novedad': libro.novedad, 'd-none': !libro.novedad }">춰 *** Novedad *** !</p>
        <h4>{{ libro.titulo }}</h4>
        <p class="autor text-primary mb-4">{{ libro.autor }}</p>
        <p class="mb-1"><strong>Editorial:</strong> {{ libro.editorial }}</p>
        <p class="mb-1"><strong>A침o de edici칩n:</strong> {{ libro.anio }}</p>
        <p class="mb-1"><strong>Materia:</strong> {{ libro.materia }}</p>
        <p class="mb-1"><strong>ISBN:</strong> {{ libro.isbn }}</p>
        <p class="mb-1"><strong>Precio:</strong> {{ libro.precio | precioEuro }}</p>
        <hr />
        <p [ngClass]="{'small': true, 'text-muted': true}">{{ libro.descripcion }}</p>
      </div>

      <!-- Botones -->
      <div class="col-md-3 text-center">
        <button class="btn btn-primary w-100 mb-2" (click)="agregarALaCesta()">
          A침adir a la cesta
        </button>
        <button class="btn btn-secondary w-100" (click)="onCerrar()">
          Volver
        </button>
      </div>
    </div>

    <!-- Pesta침as -->
    <ul class="nav nav-tabs mt-4">
      <li class="nav-item">
        <button class="nav-link" [class.active]="pestana === 'sinopsis'" (click)="pestana = 'sinopsis'">
          Sinopsis
        </button>
      </li>
      <li class="nav-item">
        <button class="nav-link" [class.active]="pestana === 'resenas'" (click)="pestana = 'resenas'">
          Rese침as
        </button>
      </li>
    </ul>

    <!-- Contenido de pesta침as -->
    <div class="tab-content mt-3">
      <div class="tab-pane" [class.show]="pestana === 'sinopsis'" [class.active]="pestana === 'sinopsis'">
        <p>{{ libro.sinopsis }}</p>
      </div>

      <div class="tab-pane" [class.show]="pestana === 'resenas'" [class.active]="pestana === 'resenas'">
        <p [innerText]="libro.resenas"></p>
      </div>
    </div>
  </div>
</div>
}
